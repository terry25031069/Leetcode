{"id":1182277555,"question_id":3314,"lang":"cpp","lang_name":"C++","time":"2 weeks, 5 days","timestamp":1708539841,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1182277555/","is_pending":"Not Pending","title":"Most Frequent Prime","memory":"N/A","code":"class Solution {\npublic:\n    int n, m;\n    bool isprime[1000001];\n\n    void build(){\n        memset(isprime, 1, sizeof(isprime));\n        isprime[0] = isprime[1] = 0;\n        for(int i = 2; i < 1000001; i++){\n            if(isprime[i]){\n                for(int j = 2; i * j <= 1e6; j++){\n                    isprime[i * j] = 0;\n                }\n            }\n        }\n    }\n\n    bool check(int x, int y){\n        if(x < 0 || x > n - 1 || y < 0 || y > m - 1) return false;\n        return true;\n    }\n\n    int mostFrequentPrime(vector<vector<int>>& mat) {\n        build();\n        int ans = 0, anscnt = 0;\n        map<int, int> cnt;\n        n = mat.size(), m = mat[0].size();\n        vector<int>dx = {0, 1, 1, 1, 0, -1, -1, -1};\n        vector<int>dy = {1, 1, 0, -1, -1, -1, 0, 1};\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < m; j++){\n                for(int k = 0; k < 8; k++){\n                    int cx = i, cy = j; \n                    int tmp = mat[i][j];\n                    while(check(cx + dx[k], cy + dy[k])){\n                        tmp = tmp * 10 + (mat[cx + dx[k]][cy + dy[k]]);\n                        if(isprime[tmp] && tmp > 10) cnt[tmp]++;\n                        cx += dx[k], cy += dy[k];\n                    }\n                }\n            }\n        }\n        if(!cnt.size()) return -1;\n        else{\n            for(auto [k, v]: cnt){\n                if(v >= anscnt && k > ans) ans = k, anscnt = v;\n            }\n        }\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"most-frequent-prime","has_notes":false,"flag_type":1}