{"id":864833258,"question_id":806,"lang":"cpp","lang_name":"C++","time":"1 year, 2 months","timestamp":1671897580,"status":10,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/864833258/","is_pending":"Not Pending","title":"Domino and Tromino Tiling","memory":"6.4 MB","code":"static int N = int(1e9+7);\nclass Solution {\npublic:\n    struct mat{\n        long long a[4][4];\n        mat(vector<long long>n){\n            for(int i = 0; i < 4; i++){\n                for(int j = 0; j < 4; j++){\n                    a[i][j] = n[i*4+j];\n                }\n            }\n        }\n        mat operator * (mat b){\n            mat ans(vector<long long>(16, 0));\n            for(int i = 0; i < 4; i++){\n                for(int k = 0; k < 4; k++){\n                    int tmp = a[i][k];\n                    for(int j = 0; j < 4; j++){\n                        ans.a[i][j] += tmp * b.a[k][j] % N;\n                        ans.a[i][j] %= N;\n                    }\n                }\n            }\n            return ans;\n        }\n    };\n    mat pow(mat a, int n){\n        if(n == 1) return a;\n        auto tmp = pow(a, n / 2);\n        if(n & 1) return tmp * tmp * a;\n        return tmp * tmp;\n    }\n\n    int numTilings(int n) {\n        vector<long long> ele{2, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0};\n        vector<long long> init{11, 11, 11, 11, 5, 5, 5, 5, 2, 2, 2, 2, 1, 1, 1, 1};\n        mat a(ele), b(init);\n        if(n < 5){\n            reverse(init.begin(), init.end());\n            return init[4 * n - 4];\n        }\n        mat ans = pow(a, n - 4) * b;\n        return ans.a[0][0];\n    }\n};","compare_result":"111111111111111111111111111111111111111","title_slug":"domino-and-tromino-tiling","has_notes":false,"flag_type":1}